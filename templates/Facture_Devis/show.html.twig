{% extends 'layout.html.twig' %}
{% block stylesheets %}
    
    <link rel="stylesheet" type="text/css" href="{{ asset('build/CSS/Facture-devis/show.css') }}">
{% endblock %}

{% block content %}


    <body>
    <div class="show">

        <div class="gauche">
            <legend style="margin: auto">Informations Facture n° {{ invoice.id }}</legend>
            <div class="row">
                <!-- Start .row -->
                <div class="col-md-12">
                    <dl class="mt20">


                        <div style="margin-left: 50px">


                            <div class="form-group" style="padding: 7px;">
                                <label class="col-md-3  control-label ">Fournisseur :</label>
                                {{ invoice.client }}
                            </div>

                            <div class="form-group" style="padding: 7px;">
                                <label class="col-md-3  control-label ">Date de Facture :</label>
                                {{ invoice.date  |date("d/m/Y") }}
                            </div>

                            <div class="form-group" style="padding: 7px;">
                                <label class="col-md-3  control-label ">Date de Saisie :</label>
                                {{  invoice.entryDate  |date("d/m/Y") }}
                            </div>

                            {% if invoice.getInvoiceType() == true %}
                            <div class="form-group" style="padding: 7px;">
                                <label class="col-md-3  control-label ">Moyen de Paiement :</label>
                                {{  invoice.paiement }}
                            </div>
                            {% endif %}



                            <div class="form-group" style="padding: 7px;">
                                <label class="col-md-3  control-label ">Fichier :</label>

                                {% if invoice.imageFile is not null %}<a target="_blank" href="{{ vich_uploader_asset(action, 'imageFile') }}"  />Fichier joint</a>
                                {% else %}
                                aucun fichier
                                {% endif %}</dd>
                            </div>


                        </div>


                    </dl>
                </div>
            </div>

        </div>

        <div class="droite">
            <legend>Récapitulatif des actions</legend>
            {% set actions = invoice.actions %}


            <table cellpadding="7" style="margin: auto; margin-top: 20px">

                <thead>
                <tr>
                    <th>Compte</th>
                    <th>Taux Tva</th>
                    <th>Quantité</th>
                    <th>Tva</th>
                    <th>M.unitaire</th>


                </tr>
                </thead>
                <tbody>

                {% for action in actions %}
                    <tr>
                        <td>
                            {{ action.record.Num }}
                        </td>
                        <td>

                            {{ action.tva }} %
                        </td>
                        <td>
                            {{ action.quantity }}
                        </td>
                        <td>
                            {{ action.getTvaAmount()}} €
                        </td>
                        <td>
                            {{ action.getUnitAmount() }} €
                        </td>

                    </tr>

                {% endfor %}
                </tbody>
            </table>

            <br>
            <div class="infos" style="margin: auto; text-align: center">


                <div class="form-group" style="padding: 7px;">
                    <label class="col-md-3  control-label ">Prix HT :</label>
                    {{ invoice.getPriceHt() }} €
                </div>

                <div class="form-group" style="padding: 7px;">
                    <label class="col-md-3  control-label ">Prix TTC :</label>
                    {{ invoice.getPriceTt() }} €
                </div>

                <div class="form-group" style="padding: 7px;">
                    <label class="col-md-3  control-label ">Payé :</label>
                    {% if invoice.stateOfPaiement == false %}
                        <img style="height: 25px" class="social-media"
                             src="{{ asset('build/img/icone-croix-rouge-png-3.png') }}" alt="croix">

                    {% else %}
                        <img style="height: 20px" class="social-media"
                             src="{{ asset('build/img/success_icon-icons.com_52365.png') }}" alt="success">
                    {% endif %}
                </div>


            </div>


        </div>

    </div>

    </body>

    {% include 'footer.html.twig' %}
{% endblock %}